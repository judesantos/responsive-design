<!DOCTYPE html>
<html>
  <head>
    <title>Newhall Crossings - Residences</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!-- Save for Web Styles (Desktop.png) -->
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css" />
    <style>
      label.error {
        font-weight: bold !important;
        font-size: 98% !important;
        color: red !important;
        text-align: left !important;
        margin-bottom: 5px !important;
        margin-top: -8px !important;
        margin-left: 2px !important;
        font-family: helvetica;
      }
    </style>
  </head>

  <body>
    <!-- Save for Web Slices (Desktop.png) -->
    <div id="container">

      <header class="main_header">
        <a href="./newhall">
          <img id="logo" src="./assets/img/newhall_logo_white.png" />
        </a>
        <nav class="main_nav">
          <ul>
            <li>
              <a class="active" href="#">RESIDENCES</a>
            </li>
            <li>
              <a href="./newhall-retail">RETAIL</a>
            </li>
          </ul>
        </nav>
      </header>
      <div id="main">
        <div id="content">
          <article>
            <img id="banner" src="./assets/img/banner_image_residences.png" />
          </article>
        </div>
        <div class="section_divider">
          <img src="./assets/img/borderdivider.png" />
        </div>
        <div id="sub_content">
          <article class="description">
            <header>
            <p>
              Anticipated to be complete in Summer of 2019, these modern and luxurious apartments will be filled with natural light and open floor plans.  Residents at Newhall Crossings will have the option to choose from 1, 2, and 3 bedroom units that range from 960sf to 1436sf. Units will be divided into 2 separate buildings with a common plaza in the center filled with trendy shops and restaurants open to the public.  Conveniently placed next to a new 7-screen Laemmle Theatres, residents will be seconds away from seeing their favorite movie in the spur of the moment or participating in one of many events that will take place in the plaza.
            </p>
            <p>
              Situated on Main Street in the heart of Old Town Newhall in Santa Clarita, CA, residents will be steps away from local restaurants, shops, theatres, wineries, and breweries.  Enjoy the warm summer nights and weekly events such as “Revved Up” where you can enjoy amazing classic cars or “Senses” that offers a selection of food trucks in a fun and festive adult setting.  For the full list of all events that take place in Old Town Newhall, please visit otna.org
            </p>
            <p>
              We urge you to stay connected as Newhall Crossings develops.  Come rediscover Old Town Newhall and live at Newhall Crossings.
            </p>
            </header>
          </article>
        </div>
        <aside class="contact">
          <div id="block">
            <div id="contact_forms">
              <form id="residential_form" method="post" action="./mailer.php">
                <label>Interest List</label>
                <input name="name" id="name" type="text" placeholder="Name"/>
                <input name="email" id="email" type="email" placeholder="Email"/>
                <input name="phone" id="phone" type="tel" placeholder="Phone Number"/>
                <input name="beds" id="beds" type="number" placeholder="Number of Bedrooms"/>
                <input name="occupants" id="occupants" type="text" placeholder="Number of Occupants"/>
                <input name="date" id="date" type="date" placeholder="Desired Move in Date"/>
                <input name="age" id="age" type="number" placeholder="Age"/>
                <input name="from" id="from" type="text" placeholder="Where you are moving from?"/>
                <input name="heardAbout" id="heardAbout" type="text" placeholder="How did you hear about us?"/>
                <label id="lblError" class="error" style="visibility:hidden;display:block !important;"></label>
                <div class="frm_buttons">
                  <button class="frm_button" style="width:49%;float:left;" onclick="clearForm(event);">Clear</button>
                  <button name="submit" id="submit" class="frm_button" style="width:49%;float:right;"
                    type="submit">Submit</button>
                </div>
              </form>
            </div>
          </div>
        </aside>
      </div>
      <div class=clr></div>
      <footer>
        <div>
          <p style="float:left;">
            Newhall Crossings. 24450 & 24480 Main Street, Santa Clarita, CA 91321
          </p>
          <p style="float:right;">
            Web Design by <a href="http://www.yourtechy.com" target="_blank">yourtechy.com </a>
          </p>
        </div>
      </footer>

    </div>

    <script src="./assets/js/jquery.min.js" type="text/javascript"></script>
    <script src="./assets/js/jquery.validate.js" type="text/javascript"></script>
    <script src="./assets/js/additional-methods.js" type="text/javascript"></script>
    <script src="./assets/js/mailer.js" type="text/javascript"></script>

    <script>

      function setupValidator()
      {

        $('#residential_form').validate({
          rules: {
            name: {
              required: true,
              letterswithbasicpunc: true
            },
            email: {
              required: true,
              email: true
            },
            phone: {
              required: true,
              maxlength: 30,
              phoneUS: true
            },
            beds: {
              required: true,
              number: true
            },
            occupants: {
              required: true,
              number: true
            },
            date: {
              required: true,
              date: true
            },
            age: {
              required: true,
              number: true
            },
            from: {
              required: true,
            },
          },
          messages: {
            name: {
              required: 'Name is required.',
              letterswithbasicpunc: 'Invalid Characters detected.'
            },
            email: {
              required: 'Email is required.',
              email: 'Please enter a valid email address.'
            },
            phone: {
              required: 'Phone is required.',
              phoneUS: 'Please enter a valid phone. (e.g.: 213-222-3400)'
            },
            beds: {
              required: 'Number of beds is required.',
              number: 'Please enter numeric values only.'
            },
            occupants: {
              required: 'Number of occupants is required.',
              number: 'Please enter numeric values only.'
            },
            date: {
              required: 'Date is required.',
              number: 'Please enter numeric values only. (e.g.: mm/dd/yyyy)'
            },
            age: {
              required: 'Age is required',
              number: 'Please enter numeric values only.'
            },
            from: {
              required: 'Please indicate where you are moving from',
            },
          }
        })
      }

      function clearForm(event) {
          event.preventDefault();
          var form = $('#residential_form')
          var validator = form.validate();
          validator.reset();
          validator.resetForm();
          form[0].reset();
        }

        function handleResponse(res) {
          if (typeof res.status !== 'undefined' &&
              0 == res.status)
          {
            alert(res.error)
            clearForm();
          } else {
            $('#lblError').text(res.error);
            $('#lblError').css('visibility', 'visible')
            $('#lblError').css('display', 'block')
          }
        }

        function setupForm()
        {
          var form = $('#residential_form')
          // process the form
          form.submit(function(event) {
              $('#lblError').css('visibility', 'hidden')
            $('#lblError').css('display', 'none')
              // get the form data
              var method = form.attr('method')
              var url = form.attr('action')
              var data = {
                'type': 'residential',
                'name': $('#name').val(),
                'email': $('#email').val(),
                'Phone': $('#phone').val(),
                'No. of Bedrooms': $('#beds').val(),
                'No. of Occupants': $('#occupants').val(),
                'Move in Date': $('#date').val(),
                'Age': $('#age').val(),
                'Moving From': $('#from').val(),
              };
              send_mail(method, url, data, function(res) {
                handleResponse(JSON.parse(res))
              },
              function(err) {
                handleResponse(JSON.parse(err))
              });
              // stop the form from submitting the normal way and refreshing the page
              event.preventDefault();
          });
        }

        $(document).ready(function() {
          setupValidator();
          setupForm();
        })

    </script>

  </body>
</html>
